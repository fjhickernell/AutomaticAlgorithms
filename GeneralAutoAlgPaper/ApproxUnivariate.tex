
In this part, we consider the function recovery $S(f)=f$ and $\ch=\cl_{\infty}.$
Then $\norm[\ch]{S(f)-A(f)}=\norm[\infty]{f-A(f)}.$
Let $\cg \subset C^{1}[0,1]$ with finite $\cl_{\infty}$ first derivatives, i.e. $\norm[\cg]{f}=\norm[\infty]{f'}.$
Let $\cf \subset C^{1}[0,1].$ And $\forall f \in \cf,$
 $$\|f\|_{\cf}=\sup\limits_{x,t \in [0,1]}\frac{|f'(x)-f'(t)|}{|x-t|^{s}},$$ where $s \in (0,1]$ is a fixed number.


Given $\tau>0$, then by the \eqref{conedef}, we have $\cc_{\tau} \subset \cf$ as
\begin{equation}\label{ctapprox}
\cc_{\tau}=\{f \in  C^{1}[0,1] : \forall x,t \in [0,1], |f'(x)-f'(t)|\leq \tau|x-t|^{s} \|f'\|_{\infty} \}.
\end{equation}

Suppose one wants to approximate functions in $\cc_{\tau}$ based on function values.  The goal is to make the $\cl_{\infty}$ error small, i.e., to find an algorithm, $A$ for which $\norm[\infty]{f-A(f)} \le \varepsilon$.

Here we use piecewise linear interpolation to approximate. Thus $\forall f \in \cc_{\tau},$ consider the sequence of algorithms $\{A_n\}_{n \in \ci},$ where
$\ci=\{2,3,\dots\}$
 and given the data $f\left(\frac{i-1}{m}\right), i=1, \ldots,m+1,$ where $\cost(A_{n})=n=m+1.$

For$\frac{i-1}{m} \leq x \leq \frac{i}{m}, \ i=1, \ldots, m,$ define $A_{n}(f)$
$$A_{n}(f)(x)=f\left(\frac{i-1}{m}\right)(i-mx)+f\left(\frac{i}{m}\right)(mx-i+1).$$


\subsection{Upper Bound}

Here we denote
$$f[x,y]:=\frac{f(x)-f(y)}{x-y}.$$
Then we can have other ways to represent $A_{n}(f)(x).$ For $\frac{i-1}{m} \leq x \leq \frac{i}{m}, \ i=1, \ldots, m.$

$$A_{n}(f)(x)=f\left(\frac{i-1}{m}\right)+f\left[\frac{i-1}{m},\frac{i}{m}\right]\left(x-\frac{i-1}{m}\right),$$
 $$A_{n}(f)(x)=f\left(\frac{i}{m}\right)+f\left[\frac{i-1}{m},\frac{i}{m}\right]\left(x-\frac{i}{m}\right),$$

Similar as $A_{n}(f)(x),$ $\forall i=1,\ldots,m, \forall x \in [0,1]$we can also have
 $$f(x)=f\left(\frac{i-1}{m}\right)+f\left[\frac{i-1}{m},x\right]\left(x-\frac{i-1}{m}\right),$$
  $$f(x)=f\left(\frac{i}{m}\right)+f\left[\frac{i}{m},x\right]\left(x-\frac{i-1}{m}\right).$$

 Note that for all $x,y \in [0,1]$ distinct, we have
 $$|f(x)-f(y)|=\left|\int_{x}^{y}f'(t)dt\right|\leq \left|\int_{x}^{y}\left|f'(t)\right|dt\right|
 \leq |x-y|\|f'\|_{\infty}.$$
 Therefore we have $|f[x,y]|\leq \|f'\|_{\infty}.$

  Then for all $x \in \left[\frac{i-1}{m},\frac{i}{m}\right]$ we have
  \begin{align*}
  f(x)
%  &  \leq \min\left(f\left(\frac{i-1}{m}\right)+\|f'\|_{\infty}\left(x-\frac{i-1}{m}\right),f\left(\frac{i}{m}\right)-\|f'\|_{\infty}\left(x-\frac{i}{m}\right)\right)\\
  & \leq \left\{\begin{matrix}
  f\left(\frac{i-1}{m}\right)+\|f'\|_{\infty}\left(x-\frac{i-1}{m}\right) & \frac{i-1}{m} \leq x \leq \frac{i-1+j^{*}}{m} \\
  f\left(\frac{i}{m}\right)-\|f'\|_{\infty}\left(x-\frac{i}{m}\right) & \frac{i-1+j^{*}}{m} \leq x \leq \frac{i}{m}
  \end{matrix},\right.
  \end{align*}
where $0 \leq j^{*} \leq 1$ is defined by
$$f\left(\frac{i-1}{m}\right)+\|f'\|_{\infty}\frac{j^{*}}{m}=f\left(\frac{i}{m}\right)-\|f'\|_{\infty}\left(-1+j^{*}\right)
\Rightarrow j^{*}=\frac{1}{2}\left[1+\frac{f\left[\frac{i-1}{m},\frac{i}{m}\right]}{\|f'\|_{\infty}}\right].$$
Then we have
\begin{align*}
f\left(\frac{i-1+j^{*}}{m}\right)-A_{m}(f)\left(\frac{i-1+j^{*}}{m}\right) &
\leq \left(\|f'\|_{\infty}-f\left[\frac{i-1}{m},\frac{i}{m}\right]\right)\frac{j^{*}}{m}\\
& =\left(\|f'\|_{\infty}-f\left[\frac{i-1}{m},\frac{i}{m}\right]\right)\frac{1}{2m}\left[1+\frac{f\left[\frac{i-1}{m},\frac{i}{m}\right]}{\|f'\|_{\infty}}\right]\\
& =\frac{\|f'\|_{\infty}}{2m}\left[1-\left(\frac{f\left[\frac{i-1}{m},\frac{i}{m}\right]}{\|f'\|_{\infty}}\right)^{2}\right]\leq \frac{\|f'\|_{\infty}}{2m}
\end{align*}

Similarly, we can obtain that for $x \in [0,1]$
\begin{equation}\label{errorg}\norm[\infty]{f-A_{n}(f)} \leq \frac{\|f'\|_{\infty}}{2m} \Rightarrow \err(A_n,\cg,\ch,S) \leq \frac{1}{2}(n-1)^{-1},
\end{equation}
which means
$$C_{1}=\frac{1}{2},p_{1}=1.$$

Now looking another way for $\frac{i-1}{m} \leq x \leq \frac{i-\frac{1}{2}}{m}$
$$\left|f(x)-A_{n}(f)(x)\right|=\left|f\left[\frac{i-1}{m},x\right]\left(x-\frac{i-1}{m}\right)-f\left[\frac{i-1}{m},\frac{i}{m}\right]\right|\left(x-\frac{i-1}{m}\right).$$
Then by Mean Value theorem, we can find $\xi \in \left(\frac{i-1}{m},x\right), \ \zeta \in \left(\frac{i-1}{m},\frac{i}{m}\right),$ such that
$$f'(\xi)=f\left[\frac{i-1}{m},x\right],f'(\zeta)=f\left[\frac{i-1}{m},\frac{i}{m}\right].$$
Let $x=\frac{i-1+j}{m}, \ 0 \leq j \leq \frac{1}{2}.$ Then we can have
\begin{align*}
\left|f(x)-A_{n}(f)(x)\right|&=\frac{j}{m}|f'(\xi)-f'(\zeta)| \leq \frac{|\xi-\zeta|^{s}}{2m}\left(\frac{|f'(\xi)-f'(\zeta)|}{|\xi-\zeta|^{s}}\right)  \\
 & \leq \frac{1}{2m^{1+s}}\left(\frac{|f'(\xi)-f'(\zeta)|}{|\xi-\zeta|^{s}}\right)
\end{align*}

Similarly, for $\frac{i-\frac{1}{2}}{m} \leq x \leq \frac{i}{m},$ we can have same results.
Thus, we obtain that
$$\left|f(x)-A_{n}(f)(x)\right|\leq \frac{1}{2m^{1+s}}\sup\limits_{x,t \in [0,1]}\frac{|f'(x)-f'(t)|}{|x-t|^{s}}.$$

Hence, we can obtain that for $x \in [0,1]$
\begin{equation}\label{errorf}\norm[\infty]{f-A_{n}(f)} \leq  \frac{1}{2m^{1+s}}\norm[\cf]{f} \Rightarrow \err(A_n,\cf,\ch,S) \leq \frac{1}{2}(n-1)^{-(1+s)},
\end{equation}
which means $$C_{2}=\frac{1}{2} , \ p_{2}=1+s.$$

%Combine eq.(\ref{errorg}) and eq.(\ref{errorf}), we have the same result as in eq. (\ref{Anerrbound}).
%$$\norm[\ch]{S(f) -  A_n(f)} \le \frac{\min(C_1,C_2\tau n^{p_1-p_2})\norm[\cg]{f}}{n^{p_1}} \qquad \forall f \in \cc_{\tau}.$$

Fix the algorithm $G_n,$ which $\cost(G_n)=n,$
suppose the data sites $0, 1/m, \dots, 1$ where $m=n-1,$ and the corresponding function values. one may estimate $\norm[\infty]{f'}$ in terms of divided differences:
\begin{equation}
G_{n}(f)= \max_{i=1, \ldots, m} m\abs{f(i/m)-f((i-1)/m)}.
\end{equation}
Note that $G_n(f)$ never overestimates $\norm[\cg]{f}$. Thus, we have
$$\err_{-}(G_n,\cf,\reals_{+},\norm[\cg]{\cdot})=0.$$
 Suppose that $\zeta$ is some point satisfying $\abs{f'(\zeta)} = \norm[\infty]{f'}$ and
that $(i-1)/m \le \zeta < i/m$.  It then follows that $f(i/m)-f((i-1)/m) = f'(\eta)/m$ for some $\eta$ between $(i-1)/m$ and $i/m$.  Thus,
\begin{align*}
\norm[\infty]{f'} &= \abs{f'(\zeta)}\leq \abs{f'(\eta)} + \abs{f'(\eta)-f'(\zeta) }  \le G_{n}(f) + \abs{ \eta-\zeta}^{s}\sup\limits_{x,t \in [0,1]}\frac{|f'(x)-f'(t)|}{|x-t|^{s}}\nonumber\\
& \leq  G_n(f) + \frac{1}{m^{s}} \sup\limits_{x,t \in [0,1]}\frac{|f'(x)-f'(t)|}{|x-t|^{s}}\nonumber\\
&\Rightarrow \err_{+}(G_n,\cf,\reals_{+},\norm[\cg]{\cdot}) =\frac{1}{(n-1)^{s}}
\end{align*}
Hence, we have
$$\err_{-}(G_n,\cf,\reals_{+},\norm[\cg]{\cdot})=0, \ \err_{+}(G_n,\cf,\reals_{+},\norm[\cg]{\cdot}) =\frac{1}{(n-1)^{s}}.
$$

Then by Algorithm \ref{twostagedetalgo}, we have the following algorithm
\begin{algo} \label{adpatalgo}
%{\bf (Automatic, Adaptive, Two-Stage, Deterministic).}
 Let $\varepsilon$ be a positive error tolerance, and let $N_{\max}$ be the maximum cost allowed.  Let $\tau$ be a fixed positive number and
 let $A_{n}$ is defined as above. Let $n_{0}= \tau+2,$ and $j=1.$ Given an input function $f$, do the following:

\begin{description}
\item[Stage 1.\ Estimate {$\norm[\infty]{f'}$}.] Let $n=n_{0}2^{j-1}.$ Compute $A_n(f)$ at a cost of $n_{0} = \cost(A_n)$.   Define the inflation factor
$$
\fC =\frac{1}{1 - \tau (n-1)^{-s}} \ge 1.
$$
Then $\fC A_{n}(f)$ provides a reliable upper bound on $\norm[\infty]{f'}$.

\item [Stage 2.\ Estimate {$f$}.] Choose the sample size need to approximate $f$, namely, check whether $n$ is large enough to satisfy the error tolerance, i.e.,
\[
\frac{\min(1,\tau (n-1)^{-s})\fC A_{n}(f)}{2n} \le \varepsilon.
\]
If this is true, then set $W=0$ .  Otherwise, if this inequality fails to hold and $n > N_{\max}$, then set the $W=1$.  In both cases, return $(A_{n}(f),W)$ and terminate the algorithm.  If the error tolerance is not yet satisfied, and $n \le N_{\max}$, then increment $i$ by one and return to Stage 1.

\end{description}

\end{algo}

However, we can find if $\fC =\frac{1}{1 - \tau (n-1)^{-s}} \ge 1,$ then $\tau (n-1)^{-s}) <1.$
Thus we only need \[
\frac{\tau (n-1)^{-s}\fC A_{n}(f)}{2(n-1)} \le \varepsilon.
\]


\begin{theorem}   Let  $\varepsilon$, $N_{\max}$, $\tN_{\max}$, $\fC$, and $\tau$ be given as described in Algorithm \ref{adpatalgo},  Let
\begin{equation} \label{normdeflate}
\fc =1 + \tau \err_{-}(G,\cf,\reals_+,\norm[\cg]{\cdot}) =1.
\end{equation}
Let $\cc_\tau$ be the cone of functions defined in \eqref{ctapprox}.  Let
\begin{equation} \label{nicefdef}
\cn = \left \{ f \in \cc_\tau : \norm[\infty]{f'} \le \varepsilon \tN_{\max}(1 - \tau (n_0-1)^{-s}) \max\left( 2, \frac{2\tN_{\max}^{s}}{\tau} \right ) \right\}
\end{equation}
be a subset of the cone $\cc_\tau.$  Then it follows that Algorithm \ref{adpatalgo} is successful for all functions in this set of \emph{nice} functions $\cn$,  i.e.,  $\success(A,W,\cn,\varepsilon,N_{\max}) = 1$.  Moreover, the cost of this algorithm is bounded above in terms of the $\norm[\infty]{f'}$ of the input function as follows:
\begin{multline} \label{auto2stagedetcost}
\cost(A,\cn,\varepsilon,N_{\max},\sigma) \\
\le  \min\left\{ n \in \ci : n \ge \min\left( \frac{\sigma}{2\varepsilon(1 - \tau/(n_{0}-1)^{s})} , \left(\frac{\sigma\tau}{2\varepsilon(1 - \tau/(n_{0}-1)^{s})}\right)^{\frac{1}{1+s}}\right)  \right\}
\end{multline} where $\sigma=\norm[\infty]{f'}.$

%The upper bound on the cost of this specific algorithm provides an upper bound on the complexity of the problem, $\comp(\varepsilon,\ca(\cn,\ch,S,\Lambda),N_{\max},\sigma)$.  If the sequence of algorithms $\{A_n\}_{n \in \ci}$, $A_n \in\ca_{\fix}(\cg,\ch,S,\Lambda)$  is nearly optimal for the problems $(\cg,\ch,S,\Lambda)$ and $(\cf,\ch,S,\Lambda)$ as defined in \eqref{nearoptdef}, then Algorithm \ref{twostagedetalgo} does not incur a significant penalty for not knowing $\norm[\cg]{f}$ a priori, i.e., for all $p>0$,
%\begin{equation} \label{penalty}
%\sup_{0 < \varepsilon/\sigma \le 1} \frac{\cost(A,\cn,\varepsilon,\infty,\sigma)} {\comp(\varepsilon/\sigma,\ca_{\fix}(\cj,\ch,S,\Lambda))} \left(\frac{\varepsilon}{\sigma}\right)^p <\infty, \qquad \cj \in \{\cf,\cg\}.
%\end{equation}
\end{theorem}

\begin{proof}
Applied Theorem \ref{TwoStageDetermThm}, then we can have the above result.
\end{proof}

%\begin{theorem} \label{adapappxthm}  \emph{Nice} functions may be well approximated at a reasonable cost by $A_{\varepsilon}$, the adaptive Algorithm \ref{adapappxalgo}.  In particular,
%\begin{align*}
%\sup_{f \in \cn_{\tau}} \norm[\infty]{f - A_{\varepsilon}(f)} & \le \varepsilon, \\
%\min\left\{\left\lceil  \left(\frac{(3-s)^{\frac{1-s}{2}}}{32(1-s)^{\frac{1-s}{2}}}\frac{\sigma\tau}{\varepsilon}\right)^{\frac{1}{1+s}}  \right\rceil-1, \left\lceil \frac{3\sqrt{3}\sigma}{16\varepsilon}\right\rceil-1 \right\} & \leq \comp(\varepsilon,\mathcal{N}_{s,\tau},\sigma)  \\
%\le \cost(A_{\varepsilon},\cn_{\tau},\sigma) & \le  \left\lceil \min\left( \frac{\sigma}{2\varepsilon(1 - \tau/n_{0}^{s})} , \left(\frac{\sigma\tau}{2\varepsilon(1 - \tau/n_{0}^{s})}\right)^{\frac{1}{1+s}}\right) \right\rceil.
%\end{align*}
%\end{theorem}
%\begin{proof}
%For any nice function $f$ lying in $\mathcal{N}_{s,\tau},$ we can have
%$$\|f-A_{\varepsilon}(f)\|_{\infty}\leq \min\left\{ \frac{\hsigma_{n_{0}}(f)}{2n(1 - \tau/n_{0}^{s})} , \frac{\tau\hsigma_{n_{0}}(f)}{2n^{1+s}(1 - \tau/n_{0}^{s})} \right\}.$$
%Thus, when the stopping criterion in Step 2 is satisfied, the resulting approximation is within
%the desired tolerance.
%
%The algorithm terminates for the first positive integer $j$ satisfying the inequality in Step
%2. Since $\hat{\sigma}(f)$ never overestimates size$(f)$ for all $f \in H,$ this means that
%\begin{align*}
% & n \ge \left\lceil \min\left( \frac{\hsigma}{2\varepsilon(1 - \tau/n_{0}^{s})} , \left(\frac{\tau\hsigma}{2\varepsilon(1 - \tau/n_{0}^{s})}\right)^{\frac{1}{1+s}}\right) \right\rceil\\
%   \Rightarrow & n \ge  \left\lceil \min\left( \frac{\hsigma_{n_{0}}(f)}{2\varepsilon(1 - \tau/n_{0}^{s})} , \left(\frac{\tau\hsigma_{n_{0}}(f)}{2\varepsilon(1 - \tau/n_{0}^{s})}\right)^{\frac{1}{1+s}}\right) \right\rceil\\
%\Rightarrow &  \min\left\{ \frac{\hsigma_{n_{0}}(f)}{2n(1 - \tau/n_{0}^{s})} , \frac{\tau\hsigma_{n_{0}}(f)}{2n^{1+s}(1 - \tau/n_{0}^{s})} \right\}   \leq \varepsilon.
%\end{align*}
%This establishes an upper bound on the cost of the algorithm.\\


\subsection{Lower Bound}
Next, we will derive the lower bound.

Suppose that for any $n>0,$ for any algorithm which cost is less than $n.$
We want to build fooling function at all data sites $\xi_{i}, \ i=1,\ldots,n.$
There exists at least one $i$ such that $\xi_{i+1}-\xi_{i}\ge\frac{1}{n+1}.$
Then we can define $f_{1}$
$$f_{1}(x):=\left\{\begin{matrix}
A_{1}(x-\xi_{j})^{2}(x-\xi_{j+1})^{2} & \xi_{j}< x \leq \xi_{j+1},\\
0 & \text{otherwise},
\end{matrix}\right.,$$
where $A_{1} \ge 0.$

As we need $\norm[\infty]{f_1}=1,$ we can have $A_{1}=\frac{16}{(\xi_{i+1}-\xi_{i})^4}.$
Then we can obtain
$$\norm[\infty]{f'_1}=\frac{16}{3\sqrt{3}(\xi_{j+1}-\xi_{j})}\leq \frac{16}{3\sqrt{3}}(n+1).$$
\begin{align*}\max_{x,t}\frac{|f'_1(x)-f'_1(t)|}{|x-t|^{s}}&=\frac{32(1-s)^{\frac{1-s}{2}}}{(3-s)^{\frac{3-s}{2}}(\xi_{j+1}-\xi_{j})^{s+1}}
=\frac{6\sqrt{3}(1-s)^{\frac{1-s}{2}}}{(3-s)^{\frac{3-s}{2}}(\xi_{j+1}-\xi_{j})^{s}}\norm[\infty]{f'_1}\\
 & \leq \frac{6\sqrt{3}(1-s)^{\frac{1-s}{2}}}{(3-s)^{\frac{3-s}{2}}}(n+1)^s\norm[\infty]{f'_1}.
 \end{align*}
 where $(1-s)^{\frac{1-s}{2}}=1$ if $s=1.$
Thus, we have
$$g(n)=\frac{16}{3\sqrt{3}}(n+1), \ \tg(n)=\frac{6\sqrt{3}(1-s)^{\frac{1-s}{2}}}{(3-s)^{\frac{3-s}{2}}}(n+1)^s.$$

Let $f_0=x.$ Then we have
$$\norm[\infty]{f'_0}=1, \norm[\cf]{f_0}=0 \Rightarrow \tau_0=0.$$

\begin{theorem} \label{complowbdappr} Suppose that functions $f_{0}$ and $f_1$ can be found that satisfy conditions \eqref{assumpfone} and \eqref{assumpfzero}.  It then follows that the complexity of the problem, defined by \eqref{complexdef}, assuming infinite cost budget, over the cone of functions $\cc_{\tau}$ is
\begin{multline*}
\comp(\varepsilon,\ca(\cc_{\tau},\ch,S,\Lambda),\infty,\sigma) \\
\ge \min\left(\frac{3\sqrt{3}\sigma}{64 \varepsilon}-1, \left(\frac{\sigma\tau(3-s)^{\frac{3-s}{2}}}{128\varepsilon(1-s)^{\frac{1-s}{2}}}\right)^{\frac{1}{1+s}}-1 \right).
\end{multline*}
\end{theorem}

\begin{proof}
$g(n), \ \tg(n)$ and $\tau_0$ is obtained above, then by Theorem \ref{complowbd}
we can have the above results.
\end{proof}




